<!doctype html><html lang=ja><html><script async src="https://www.googletagmanager.com/gtag/js?id=G-T2H6ZFNQ3P"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-T2H6ZFNQ3P")</script><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="林靖人のページです"><link rel="shortcut icon" href=https://hayashiyasuhito.github.io/favicon.ico><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script>
<link rel=stylesheet href=/css/style.min.css><title>Hugoでホームページを新しくしてみた</title></head><body><header id=banner><h2><a href=https://hayashiyasuhito.github.io>林 靖人 / Yasuhito Hayashi</a></h2><nav><ul><li><a href=/posts/ title=posts>Posts</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Hugoでホームページを新しくしてみた</h1><div><time>May 4, 2021</time></div></header><p>これまで使っていた（使ってない）ホームページは、Academicテーマを色だけカスタマイズしたものだった。また、どこかのサイトに従ってGitHub Actionでの自動デプロイをしてみたが、正直なにがどうなっているのかも分からなかったので、etchテーマをカスタマイズして作り直すことにした。</p><h3 id=テーマのカスタマイズ>テーマのカスタマイズ</h3><p>etchテーマは素の状態だとポストしたもののリストがトップに出てくるだけなので、Academicっぽく上のほうに自己紹介、下に論文やらなんやらのリストを表示する形にしたい。layouts/index.htmlを見てみると、layouts/partial/hogehoge.htmlとしてそれぞれのパーツを置いておいてそれを呼び出している形だったので、about.htmlとpapers.html等々を新たに作成して追加した。
htmlとかcssとか触ったことがない人間なのでabout.htmlとかはよくわからないまま無理やり書いてみた。アイコン間のスペースのあけ方とか、</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>            &lt;/<span style=color:#f92672>div</span>&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;
</span></span></code></pre></div><p>ってしていてもう絶対にお作法と違う。</p><h3 id=github-pages-action>GitHub Pages action</h3><p>ビルドとデプロイはGitHub Pages actionを用いて自動化した。
<a href=https://qiita.com/peaceiris/items/d401f2e5724fdcb0759d>https://qiita.com/peaceiris/items/d401f2e5724fdcb0759d</a><br>このページを参考にして、gh-pages.ymlを追加。mainブランチからgh-pagesブランチへデプロイしている。
以下のyamlファイルをデフォルトブランチの.github/workflows/gh-pages.ymlとしてpushしたらサイトが無事公開された。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Hugo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>: <span style=color:#ae81ff>push</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>gh-pages</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>#with:</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>#submodules: true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># https://github.com/marketplace/actions/github-pages-action</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>hugo-version</span>: <span style=color:#ae81ff>latest</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>extended</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>${{ secrets.GITHUB_TOKEN }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_branch</span>: <span style=color:#ae81ff>gh-pages</span>
</span></span></code></pre></div><h3 id=疲れました>疲れました</h3><p>testtest<div style="padding:.75em;margin-bottom:1rem;color:#fff;background-color:#78c2ad;border:1px solid transparent;border-radius:.25rem">alertのテストです</div></p></article></main><footer id=footer>Yasuhito Hayashi</footer></body></html><script async src="https://www.googletagmanager.com/gtag/js?id=G-T2H6ZFNQ3P"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-T2H6ZFNQ3P")</script>